"use strict";var detailsCard,cardholderInput,cardholderOutput,cardNumberInput,cardNumberOutput,expirationMonthInput,expirationMonthOutput,expirationYearInput,expirationYearOutput,cvcNumberInput,cvcNumberOutput,submitBtn,continueBtn,DEFAULT_CARDHOLDER="Jane appleseed",DEFAULT_CARD_NUMBER="0000 0000 0000 0000",DEFAULT_EXPIRATION_MONTH="00",DEFAULT_EXPIRATION_YEAR="00",DEFAULT_CVC="000",main=function(){prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=function(){detailsCard=document.querySelector(".details"),cardholderInput=document.querySelector("#cardholder-name"),cardholderOutput=document.querySelector("#cardholder-name-output"),cardNumberInput=document.querySelector("#card-number"),cardNumberOutput=document.querySelector("#card-number-output"),expirationMonthInput=document.querySelector("#expiration-month"),expirationMonthOutput=document.querySelector("#expiration-month-output"),expirationYearInput=document.querySelector("#expiration-year"),expirationYearOutput=document.querySelector("#expiration-year-output"),cvcNumberInput=document.querySelector("#card-cvc"),cvcNumberOutput=document.querySelector("#card-cvc-output"),submitBtn=document.querySelector("#details-submit-button"),continueBtn=document.querySelector("#confirmation-button")},prepareDOMEvents=function(){cardholderInput.addEventListener("input",handleCardholderName),cardholderInput.addEventListener("focusout",handleCardholderName),cardNumberInput.addEventListener("input",handleCardNumber),cardNumberInput.addEventListener("focusout",handleCardNumber),expirationMonthInput.addEventListener("input",handleExpirationMonth),expirationMonthInput.addEventListener("focusout",handleExpirationMonth),expirationYearInput.addEventListener("input",handleExpirationYear),expirationYearInput.addEventListener("focusout",handleExpirationYear),cvcNumberInput.addEventListener("input",handleCVCNumber),cvcNumberInput.addEventListener("focusout",handleCVCNumber),submitBtn.addEventListener("click",handleSubmitBtn),continueBtn.addEventListener("click",handleContinueBtn)},handleCardholderName=function(r){var r=r.target,e=r.value,t=validateCardholderName(e),a=t.isValid,t=t.errorMsg;a?clearError(r):showErrorMessage(r,t),insertOutput(cardholderOutput,e)},validateCardholderName=function(r){r=r.trim();return checkBlank(r)?{isValid:!1,errorMsg:"Can't be blank"}:{isValid:!0,errorMsg:""}},checkBlank=function(r){return""===r},handleCardNumber=function(r){var r=r.target,e=removeSpaces(r.value),t=validateCardNumber(e),a=t.isValid,t=t.errorMsg;r.value=groupCardNumber(e,4),a?clearError(r):showErrorMessage(r,t),insertOutput(cardNumberOutput,formatCardNumber(e))},validateCardNumber=function(r){var r=removeSpaces(r),e=checkBlank(r),t=/^[^\D]+$/.test(r),r=16===r.length;return e?{isValid:!1,errorMsg:"Can't be blank"}:t?r?{isValid:!0,errorMsg:""}:{isValid:!1,errorMsg:"Too short"}:{isValid:!1,errorMsg:"Wrong format, numbers only"}},formatCardNumber=function(r){r=removeSpaces(r).padEnd(16,"0");return groupCardNumber(r,4)},groupCardNumber=function(r,e){for(var t=[],a=0;a<r.length;a+=e)t.push(r.slice(a,a+e));return t.join(" ")},removeSpaces=function(r){return r.replace(/\s/g,"")},handleExpirationMonth=function(r){var r=r.target,e=r.value.trim(),t=validateExpiration(e,validateExpirationMonth),a=t.isValid,t=t.errorMsg;a?clearError(r):showErrorMessage(r,t),insertOutput(expirationMonthOutput,e)},handleExpirationYear=function(r){var r=r.target,e=r.value.trim(),t=validateExpiration(e,validateExpirationYear),a=t.isValid,t=t.errorMsg;a?clearError(r):showErrorMessage(r,t),insertOutput(expirationYearOutput,e)},validateExpiration=function(r,e){var r=r.trim(),t=checkBlank(r),e=e(r);return t?{isValid:!1,errorMsg:"Can't be blank"}:e?{isValid:!0,errorMsg:""}:{isValid:!1,errorMsg:"Wrong format"}},validateExpirationMonth=function(r){return/^0[1-9]$|^1[0-2]$/.test(r)},validateExpirationYear=function(r){return/^\d{2}$/.test(r)},handleCVCNumber=function(r){var r=r.target,e=r.value,t=validateCVC(e),a=t.isValid,t=t.errorMsg;a?clearError(r):showErrorMessage(r,t),insertOutput(cvcNumberOutput,e)},validateCVC=function(r){var r=r.trim(),e=checkBlank(r),r=/^\d{3}$/.test(r);return e?{isValid:!1,errorMsg:"Can't be blank"}:r?{isValid:!0,errorMsg:""}:{isValid:!1,errorMsg:"Wrong format"}},insertOutput=function(r,e){r.innerText=e},showErrorMessage=function(r,e){r.closest(".details-form__input-container").querySelector(".details-form__error").innerText=e,r.classList.add("error")},clearError=function(r){showErrorMessage(r,""),r.classList.remove("error")},handleSubmitBtn=function(r){r.preventDefault();var r=validateCardholderName(cardNumberInput.value),e=r.isValid,r=r.errorMsg,t=validateCardNumber(cardNumberInput.value),a=t.isValid,t=t.errorMsg,n=validateExpiration(expirationMonthInput.value,validateExpirationMonth),u=n.isValid,n=n.errorMsg,i=validateExpiration(expirationYearInput.value,validateExpirationYear),o=i.isValid,i=i.errorMsg,d=validateCVC(cvcNumberInput.value),c=d.isValid,d=d.errorMsg;e&&a&&u&&o&&c&&detailsCard.setAttribute("data-completed",""),e||showErrorMessage(cardholderInput,r),a||showErrorMessage(cardNumberInput,t),u||showErrorMessage(expirationMonthInput,n),o||showErrorMessage(expirationYearInput,i),c||showErrorMessage(cvcNumberInput,d)},handleContinueBtn=function(r){detailsCard.removeAttribute("data-completed"),clearInputs(),clearOutputs()},clearInputs=function(){cardholderInput.value="",cardNumberInput.value="",expirationMonthInput.value="",expirationYearInput.value="",cvcNumberInput.value=""},clearOutputs=function(){cardholderOutput.innerText=DEFAULT_CARDHOLDER,cardNumberOutput.innerText=DEFAULT_CARD_NUMBER,expirationMonthOutput.innerText=DEFAULT_EXPIRATION_MONTH,expirationYearOutput.innerText=DEFAULT_EXPIRATION_YEAR,cvcNumberOutput.innerText=DEFAULT_CVC};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZGV0YWlsc0NhcmQiLCJjYXJkaG9sZGVySW5wdXQiLCJjYXJkaG9sZGVyT3V0cHV0IiwiY2FyZE51bWJlck91dHB1dCIsImNhcmROdW1iZXJJbnB1dCIsImV4cGlyYXRpb25Nb250aElucHV0IiwiZXhwaXJhdGlvblllYXJJbnB1dCIsInN1Ym1pdEJ0biIsIkRFRkFVTFRfQ0FSREhPTERFUiIsIkRFRkFVTFRfQ0FSRF9OVU1CRVIiLCJERUZBVUxUX0VYUElSQVRJT05fTU9OVEgiLCJERUZBVUxUX0VYUElSQVRJT05fWUVBUiIsIm1haW4iLCJwcmVwYXJlRE9NRWxlbWVudHMiLCJwcmVwYXJlRE9NRXZlbnRzIiwicXVlcnlTZWxlY3RvciIsImRvY3VtZW50IiwiZXhwaXJhdGlvbk1vbnRoT3V0cHV0IiwiZXhwaXJhdGlvblllYXJPdXRwdXQiLCJjdmNOdW1iZXJJbnB1dCIsImN2Y051bWJlck91dHB1dCIsImNvbnRpbnVlQnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUNhcmRob2xkZXJOYW1lIiwiaGFuZGxlQ2FyZE51bWJlciIsImhhbmRsZUV4cGlyYXRpb25Nb250aCIsImhhbmRsZUV4cGlyYXRpb25ZZWFyIiwiaGFuZGxlQ1ZDTnVtYmVyIiwiaGFuZGxlU3VibWl0QnRuIiwiaGFuZGxlQ29udGludWVCdG4iLCJpbnB1dCIsImUiLCJ2YWx1ZSIsIl92YWxpZGF0ZUNhcmRob2xkZXJOYSIsInZhbGlkYXRlQ2FyZGhvbGRlck5hbWUiLCJpc1ZhbGlkIiwiZXJyb3JNc2ciLCJjbGVhckVycm9yIiwic2hvd0Vycm9yTWVzc2FnZSIsImluc2VydE91dHB1dCIsInRyaW1tZWQiLCJ0cmltIiwiY2hlY2tCbGFuayIsInRhcmdldCIsInJlbW92ZVNwYWNlcyIsIl92YWxpZGF0ZUNhcmROdW1iZXIiLCJ2YWxpZGF0ZUNhcmROdW1iZXIiLCJncm91cENhcmROdW1iZXIiLCJ3aXRob3V0U3BhY2VzIiwidGVzdCIsImZvcm1hdENhcmROdW1iZXIiLCJpc0xvbmdFbm91Z2giLCJsZW5ndGgiLCJpc0JsYW5rIiwiaXNWYWxpZGF0ZWQiLCJjYXJkTnVtYmVyIiwicGFkZGVkIiwicGFkRW5kIiwiaXRlbXNJbkdyb3VwIiwiaSIsImdyb3VwcyIsInB1c2giLCJzbGljZSIsImpvaW4iLCJyZXBsYWNlIiwiX3ZhbGlkYXRlRXhwaXJhdGlvbiIsIl92YWxpZGF0ZUV4cGlyYXRpb24yIiwidmFsaWRhdGVFeHBpcmF0aW9uIiwidmFsaWRhdGVFeHBpcmF0aW9uWWVhciIsInZhbGlkYXRvciIsIl92YWxpZGF0ZUNWQyIsInZhbGlkYXRlQ1ZDIiwidmFsaWRhdGVFeHBpcmF0aW9uTW9udGgiLCJvdXRwdXQiLCJpbm5lclRleHQiLCJtZXNzYWdlIiwiY2xvc2VzdCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInByZXZlbnREZWZhdWx0IiwiX3ZhbGlkYXRlQ2FyZGhvbGRlck5hMiIsIm5hbWVFcnJvciIsIl92YWxpZGF0ZUNhcmROdW1iZXIyIiwiY2FyZE51bWJlckVycm9yIiwiX3ZhbGlkYXRlRXhwaXJhdGlvbjMiLCJpc0V4cGlyYXRpb25Nb250aFZhbGlkIiwiZXhwTW9udGhFcnJvciIsIl92YWxpZGF0ZUV4cGlyYXRpb240IiwiZXhwWWVhckVycm9yIiwiX3ZhbGlkYXRlQ1ZDMiIsImlzQ1ZDVmFsaWQiLCJjdmNFcnJvciIsImlzTmFtZVZhbGlkIiwiaXNDYXJkTnVtYmVyVmFsaWQiLCJpc0V4cGlyYXRpb25ZZWFyVmFsaWQiLCJzZXRBdHRyaWJ1dGUiLCJjbGVhcklucHV0cyIsImNsZWFyT3V0cHV0cyIsIkRFRkFVTFRfQ1ZDIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxZQUNBQyxnQkFBaUJDLGlCQURqQkYsZ0JBQUpHLGlCQUNJRixxQkFBaUJDLHNCQUNqQkUsb0JBQWlCRCxxQkFDakJFLGVBQUFBLGdCQUNBQyxVQUFBQSxZQUVBQyxtQkFBSixpQkFFTUMsb0JBQXFCLHNCQUNyQkMseUJBQXNCLEtBQ3RCQyx3QkFBMkIsS0FDM0JDLFlB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Y3RELFFBQUZ3RCxFQWlDWkYsRUFqQ1lyRCxTQUFQd0QsR0FBQUMsR0FBQVIsR0FBQVMsR0FBQUosR0FQTjFGLFlBQUErRixhQUFBLGlCQUFBLElBNkNNSCxHQUFhdEQsaUJBQWlCckMsZ0JBQWlCZ0YsR0FDL0NZLEdBQW1CdkQsaUJBQWlCbEMsZ0JBQWlCK0UsR0FuQ3JENUMsR0FBQUEsaUJBQWVsQyxxQkFBbUJpRixHQUN2Q2IsR0FBQW5DLGlCQUFBaEMsb0JBQUFrRixHQURERSxHQUFBcEQsaUJBQUFuQixlQUFBd0UsSUF5Q005RCxrQkFBb0IsU0FBQ0UsR0FwQzNCL0IsWUFBTXNDLGdCQUFtQixrQkFzQ3hCMEQsY0FDQUMsZ0JBR0tELFlBQWMsV0FwQ3BCL0YsZ0JBQW1CK0IsTUFBQSxHQXNDbEI1QixnQkFyQ0FrQyxNQUFnQixHQXNDaEJqQyxxQkFyQ2dCeUUsTUFBTyxHQUZ4QnhFLG9CQUFBMEIsTUFBQSxHQUtBYixlQUFBYSxNQUFBLElBQ01KLGFBQWUsV0F1Q3BCMUIsaUJBdENBd0UsVUFBQWxFLG1CQXVDQUwsaUJBQWlCdUUsVUFBWWpFLG9CQUM3QlEsc0JBdkNBeUQsVUFBc0R4Qyx5QkF3Q3REaEIscUJBeENBd0QsVUFBQS9ELHdCQXlDQVMsZ0JBekNBc0QsVUFBQXdCLGFBNENEbEYsU0EzQ2tCNkUsaUJBQWpCLG1CQUFBakYiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZGV0YWlsc0NhcmQ7XHJcbmxldCBjYXJkaG9sZGVySW5wdXQsIGNhcmRob2xkZXJPdXRwdXQ7XHJcbmxldCBjYXJkTnVtYmVySW5wdXQsIGNhcmROdW1iZXJPdXRwdXQ7XHJcbmxldCBleHBpcmF0aW9uTW9udGhJbnB1dCwgZXhwaXJhdGlvbk1vbnRoT3V0cHV0O1xyXG5sZXQgZXhwaXJhdGlvblllYXJJbnB1dCwgZXhwaXJhdGlvblllYXJPdXRwdXQ7XHJcbmxldCBjdmNOdW1iZXJJbnB1dCwgY3ZjTnVtYmVyT3V0cHV0O1xyXG5sZXQgc3VibWl0QnRuLCBjb250aW51ZUJ0bjtcclxuXHJcbmNvbnN0IERFRkFVTFRfQ0FSREhPTERFUiA9ICdKYW5lIGFwcGxlc2VlZCc7XHJcbmNvbnN0IERFRkFVTFRfQ0FSRF9OVU1CRVIgPSAnMDAwMCAwMDAwIDAwMDAgMDAwMCc7XHJcbmNvbnN0IERFRkFVTFRfRVhQSVJBVElPTl9NT05USCA9ICcwMCc7XHJcbmNvbnN0IERFRkFVTFRfRVhQSVJBVElPTl9ZRUFSID0gJzAwJztcclxuY29uc3QgREVGQVVMVF9DVkMgPSAnMDAwJztcclxuXHJcbmNvbnN0IG1haW4gPSAoKSA9PiB7XHJcblx0cHJlcGFyZURPTUVsZW1lbnRzKCk7XHJcblx0cHJlcGFyZURPTUV2ZW50cygpO1xyXG59O1xyXG5cclxuY29uc3QgcHJlcGFyZURPTUVsZW1lbnRzID0gKCkgPT4ge1xyXG5cdGRldGFpbHNDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRldGFpbHMnKTtcclxuXHJcblx0Y2FyZGhvbGRlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmRob2xkZXItbmFtZScpO1xyXG5cdGNhcmRob2xkZXJPdXRwdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FyZGhvbGRlci1uYW1lLW91dHB1dCcpO1xyXG5cdGNhcmROdW1iZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkLW51bWJlcicpO1xyXG5cdGNhcmROdW1iZXJPdXRwdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FyZC1udW1iZXItb3V0cHV0Jyk7XHJcblx0ZXhwaXJhdGlvbk1vbnRoSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXhwaXJhdGlvbi1tb250aCcpO1xyXG5cdGV4cGlyYXRpb25Nb250aE91dHB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNleHBpcmF0aW9uLW1vbnRoLW91dHB1dCcpO1xyXG5cdGV4cGlyYXRpb25ZZWFySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXhwaXJhdGlvbi15ZWFyJyk7XHJcblx0ZXhwaXJhdGlvblllYXJPdXRwdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXhwaXJhdGlvbi15ZWFyLW91dHB1dCcpO1xyXG5cdGN2Y051bWJlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmQtY3ZjJyk7XHJcblx0Y3ZjTnVtYmVyT3V0cHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmQtY3ZjLW91dHB1dCcpO1xyXG5cclxuXHRzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGV0YWlscy1zdWJtaXQtYnV0dG9uJyk7XHJcblx0Y29udGludWVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29uZmlybWF0aW9uLWJ1dHRvbicpO1xyXG59O1xyXG5cclxuY29uc3QgcHJlcGFyZURPTUV2ZW50cyA9ICgpID0+IHtcclxuXHQvKiBjYXJkaG9sZGVyIGlucHV0ICovXHJcblx0Y2FyZGhvbGRlcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaGFuZGxlQ2FyZGhvbGRlck5hbWUpO1xyXG5cdGNhcmRob2xkZXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIGhhbmRsZUNhcmRob2xkZXJOYW1lKTtcclxuXHJcblx0LyogY2FyZCBudW1iZXIgaW5wdXQgKi9cclxuXHRjYXJkTnVtYmVySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBoYW5kbGVDYXJkTnVtYmVyKTtcclxuXHRjYXJkTnVtYmVySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCBoYW5kbGVDYXJkTnVtYmVyKTtcclxuXHJcblx0LyogZXhwaXJhdGlvbiBpbnB1dHMgKi9cclxuXHRleHBpcmF0aW9uTW9udGhJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGhhbmRsZUV4cGlyYXRpb25Nb250aCk7XHJcblx0ZXhwaXJhdGlvbk1vbnRoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCBoYW5kbGVFeHBpcmF0aW9uTW9udGgpO1xyXG5cclxuXHRleHBpcmF0aW9uWWVhcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaGFuZGxlRXhwaXJhdGlvblllYXIpO1xyXG5cdGV4cGlyYXRpb25ZZWFySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCBoYW5kbGVFeHBpcmF0aW9uWWVhcik7XHJcblxyXG5cdC8qIENWQyBpbnB1dCAqL1xyXG5cdGN2Y051bWJlcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaGFuZGxlQ1ZDTnVtYmVyKTtcclxuXHRjdmNOdW1iZXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIGhhbmRsZUNWQ051bWJlcik7XHJcblxyXG5cdC8qIGJ1dHRvbnMgKi9cclxuXHRzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTdWJtaXRCdG4pO1xyXG5cdGNvbnRpbnVlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ29udGludWVCdG4pO1xyXG59O1xyXG5cclxuLyogY2FyZGhvbGRlciBpbnB1dCBoYW5kbGluZyAqL1xyXG5jb25zdCBoYW5kbGVDYXJkaG9sZGVyTmFtZSA9IChlKSA9PiB7XHJcblx0Y29uc3QgaW5wdXQgPSBlLnRhcmdldDtcclxuXHRjb25zdCB2YWx1ZSA9IGlucHV0LnZhbHVlO1xyXG5cdGNvbnN0IHsgaXNWYWxpZCwgZXJyb3JNc2cgfSA9IHZhbGlkYXRlQ2FyZGhvbGRlck5hbWUodmFsdWUpO1xyXG5cclxuXHRpZiAoIWlzVmFsaWQpIHNob3dFcnJvck1lc3NhZ2UoaW5wdXQsIGVycm9yTXNnKTtcclxuXHRlbHNlIGNsZWFyRXJyb3IoaW5wdXQpO1xyXG5cclxuXHRpbnNlcnRPdXRwdXQoY2FyZGhvbGRlck91dHB1dCwgdmFsdWUpO1xyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdGVDYXJkaG9sZGVyTmFtZSA9ICh2YWx1ZSkgPT4ge1xyXG5cdGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS50cmltKCk7XHJcblx0Y29uc3QgaXNCbGFuayA9IGNoZWNrQmxhbmsodHJpbW1lZCk7XHJcblxyXG5cdGlmIChpc0JsYW5rKSByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgZXJyb3JNc2c6IFwiQ2FuJ3QgYmUgYmxhbmtcIiB9O1xyXG5cdGVsc2UgcmV0dXJuIHsgaXNWYWxpZDogdHJ1ZSwgZXJyb3JNc2c6ICcnIH07XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0JsYW5rID0gKHZhbHVlKSA9PiB7XHJcblx0cmV0dXJuIHZhbHVlID09PSAnJztcclxufTtcclxuXHJcbi8qIGNhcmQgbnVtYmVyIGlucHV0IGhhbmRsaW5nICovXHJcbmNvbnN0IGhhbmRsZUNhcmROdW1iZXIgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IGlucHV0ID0gZS50YXJnZXQ7XHJcblx0Y29uc3QgdmFsdWUgPSByZW1vdmVTcGFjZXMoaW5wdXQudmFsdWUpO1xyXG5cdGNvbnN0IHsgaXNWYWxpZCwgZXJyb3JNc2cgfSA9IHZhbGlkYXRlQ2FyZE51bWJlcih2YWx1ZSk7XHJcblx0aW5wdXQudmFsdWUgPSBncm91cENhcmROdW1iZXIodmFsdWUsIDQpO1xyXG5cclxuXHRpZiAoIWlzVmFsaWQpIHNob3dFcnJvck1lc3NhZ2UoaW5wdXQsIGVycm9yTXNnKTtcclxuXHRlbHNlIGNsZWFyRXJyb3IoaW5wdXQpO1xyXG5cclxuXHRpbnNlcnRPdXRwdXQoY2FyZE51bWJlck91dHB1dCwgZm9ybWF0Q2FyZE51bWJlcih2YWx1ZSkpO1xyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdGVDYXJkTnVtYmVyID0gKHZhbHVlKSA9PiB7XHJcblx0Y29uc3Qgd2l0aG91dFNwYWNlcyA9IHJlbW92ZVNwYWNlcyh2YWx1ZSk7XHJcblx0Y29uc3QgaXNCbGFuayA9IGNoZWNrQmxhbmsod2l0aG91dFNwYWNlcyk7XHJcblx0Y29uc3QgaXNWYWxpZGF0ZWQgPSAvXlteXFxEXSskLy50ZXN0KHdpdGhvdXRTcGFjZXMpO1xyXG5cdGNvbnN0IGlzTG9uZ0Vub3VnaCA9IHdpdGhvdXRTcGFjZXMubGVuZ3RoID09PSAxNjtcclxuXHJcblx0aWYgKGlzQmxhbmspIHJldHVybiB7IGlzVmFsaWQ6IGZhbHNlLCBlcnJvck1zZzogXCJDYW4ndCBiZSBibGFua1wiIH07XHJcblx0ZWxzZSBpZiAoIWlzVmFsaWRhdGVkKSByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgZXJyb3JNc2c6ICdXcm9uZyBmb3JtYXQsIG51bWJlcnMgb25seScgfTtcclxuXHRlbHNlIGlmICghaXNMb25nRW5vdWdoKSByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgZXJyb3JNc2c6ICdUb28gc2hvcnQnIH07XHJcblx0ZWxzZSByZXR1cm4geyBpc1ZhbGlkOiB0cnVlLCBlcnJvck1zZzogJycgfTtcclxufTtcclxuXHJcbmNvbnN0IGZvcm1hdENhcmROdW1iZXIgPSAoY2FyZE51bWJlcikgPT4ge1xyXG5cdGNvbnN0IHdpdGhvdXRTcGFjZXMgPSByZW1vdmVTcGFjZXMoY2FyZE51bWJlcik7XHJcblx0Y29uc3QgcGFkZGVkID0gd2l0aG91dFNwYWNlcy5wYWRFbmQoMTYsICcwJyk7XHJcblx0cmV0dXJuIGdyb3VwQ2FyZE51bWJlcihwYWRkZWQsIDQpO1xyXG59O1xyXG5cclxuY29uc3QgZ3JvdXBDYXJkTnVtYmVyID0gKHZhbHVlLCBpdGVtc0luR3JvdXApID0+IHtcclxuXHRjb25zdCBncm91cHMgPSBbXTtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSArPSBpdGVtc0luR3JvdXApIGdyb3Vwcy5wdXNoKHZhbHVlLnNsaWNlKGksIGkgKyBpdGVtc0luR3JvdXApKTtcclxuXHRyZXR1cm4gZ3JvdXBzLmpvaW4oJyAnKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVNwYWNlcyA9ICh2YWx1ZSkgPT4ge1xyXG5cdHJldHVybiB2YWx1ZS5yZXBsYWNlKC9cXHMvZywgJycpO1xyXG59O1xyXG5cclxuLyogZXhwaXJhdGlvbiBkYXRlIGhhbmRsaW5nICovXHJcbmNvbnN0IGhhbmRsZUV4cGlyYXRpb25Nb250aCA9IChlKSA9PiB7XHJcblx0Y29uc3QgaW5wdXQgPSBlLnRhcmdldDtcclxuXHRjb25zdCB2YWx1ZSA9IGlucHV0LnZhbHVlLnRyaW0oKTtcclxuXHRjb25zdCB7IGlzVmFsaWQsIGVycm9yTXNnIH0gPSB2YWxpZGF0ZUV4cGlyYXRpb24odmFsdWUsIHZhbGlkYXRlRXhwaXJhdGlvbk1vbnRoKTtcclxuXHJcblx0aWYgKCFpc1ZhbGlkKSBzaG93RXJyb3JNZXNzYWdlKGlucHV0LCBlcnJvck1zZyk7XHJcblx0ZWxzZSBjbGVhckVycm9yKGlucHV0KTtcclxuXHJcblx0aW5zZXJ0T3V0cHV0KGV4cGlyYXRpb25Nb250aE91dHB1dCwgdmFsdWUpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlRXhwaXJhdGlvblllYXIgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IGlucHV0ID0gZS50YXJnZXQ7XHJcblx0Y29uc3QgdmFsdWUgPSBpbnB1dC52YWx1ZS50cmltKCk7XHJcblx0Y29uc3QgeyBpc1ZhbGlkLCBlcnJvck1zZyB9ID0gdmFsaWRhdGVFeHBpcmF0aW9uKHZhbHVlLCB2YWxpZGF0ZUV4cGlyYXRpb25ZZWFyKTtcclxuXHJcblx0aWYgKCFpc1ZhbGlkKSBzaG93RXJyb3JNZXNzYWdlKGlucHV0LCBlcnJvck1zZyk7XHJcblx0ZWxzZSBjbGVhckVycm9yKGlucHV0KTtcclxuXHJcblx0aW5zZXJ0T3V0cHV0KGV4cGlyYXRpb25ZZWFyT3V0cHV0LCB2YWx1ZSk7XHJcbn07XHJcblxyXG5jb25zdCB2YWxpZGF0ZUV4cGlyYXRpb24gPSAodmFsdWUsIHZhbGlkYXRvcikgPT4ge1xyXG5cdGNvbnN0IHRyaW1tZWQgPSB2YWx1ZS50cmltKCk7XHJcblx0Y29uc3QgaXNCbGFuayA9IGNoZWNrQmxhbmsodHJpbW1lZCk7XHJcblx0Y29uc3QgaXNWYWxpZGF0ZWQgPSB2YWxpZGF0b3IodHJpbW1lZCk7XHJcblxyXG5cdGlmIChpc0JsYW5rKSByZXR1cm4geyBpc1ZhbGlkOiBmYWxzZSwgZXJyb3JNc2c6IFwiQ2FuJ3QgYmUgYmxhbmtcIiB9O1xyXG5cdGVsc2UgaWYgKCFpc1ZhbGlkYXRlZCkgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIGVycm9yTXNnOiAnV3JvbmcgZm9ybWF0JyB9O1xyXG5cdGVsc2UgcmV0dXJuIHsgaXNWYWxpZDogdHJ1ZSwgZXJyb3JNc2c6ICcnIH07XHJcbn07XHJcblxyXG5jb25zdCB2YWxpZGF0ZUV4cGlyYXRpb25Nb250aCA9ICh2YWx1ZSkgPT4ge1xyXG5cdHJldHVybiAvXjBbMS05XSR8XjFbMC0yXSQvLnRlc3QodmFsdWUpO1xyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdGVFeHBpcmF0aW9uWWVhciA9ICh2YWx1ZSkgPT4ge1xyXG5cdHJldHVybiAvXlxcZHsyfSQvLnRlc3QodmFsdWUpO1xyXG59O1xyXG5cclxuLyogQ1ZDIGlucHV0IGhhbmRsaW5nICovXHJcbmNvbnN0IGhhbmRsZUNWQ051bWJlciA9IChlKSA9PiB7XHJcblx0Y29uc3QgaW5wdXQgPSBlLnRhcmdldDtcclxuXHRjb25zdCB2YWx1ZSA9IGlucHV0LnZhbHVlO1xyXG5cdGNvbnN0IHsgaXNWYWxpZCwgZXJyb3JNc2cgfSA9IHZhbGlkYXRlQ1ZDKHZhbHVlKTtcclxuXHJcblx0aWYgKCFpc1ZhbGlkKSBzaG93RXJyb3JNZXNzYWdlKGlucHV0LCBlcnJvck1zZyk7XHJcblx0ZWxzZSBjbGVhckVycm9yKGlucHV0KTtcclxuXHJcblx0aW5zZXJ0T3V0cHV0KGN2Y051bWJlck91dHB1dCwgdmFsdWUpO1xyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdGVDVkMgPSAodmFsdWUpID0+IHtcclxuXHRjb25zdCB0cmltbWVkID0gdmFsdWUudHJpbSgpO1xyXG5cdGNvbnN0IGlzQmxhbmsgPSBjaGVja0JsYW5rKHRyaW1tZWQpO1xyXG5cdGNvbnN0IGlzVmFsaWRhdGVkID0gL15cXGR7M30kLy50ZXN0KHRyaW1tZWQpO1xyXG5cclxuXHRpZiAoaXNCbGFuaykgcmV0dXJuIHsgaXNWYWxpZDogZmFsc2UsIGVycm9yTXNnOiBcIkNhbid0IGJlIGJsYW5rXCIgfTtcclxuXHRlbHNlIGlmICghaXNWYWxpZGF0ZWQpIHJldHVybiB7IGlzVmFsaWQ6IGZhbHNlLCBlcnJvck1zZzogJ1dyb25nIGZvcm1hdCcgfTtcclxuXHRlbHNlIHJldHVybiB7IGlzVmFsaWQ6IHRydWUsIGVycm9yTXNnOiAnJyB9O1xyXG59O1xyXG5cclxuLyogb3V0cHV0IGluc2VydGluZyAqL1xyXG5jb25zdCBpbnNlcnRPdXRwdXQgPSAob3V0cHV0LCB2YWx1ZSkgPT4ge1xyXG5cdG91dHB1dC5pbm5lclRleHQgPSB2YWx1ZTtcclxufTtcclxuXHJcbi8qIGVycm9yIGhhbmRsaW5nICovXHJcbmNvbnN0IHNob3dFcnJvck1lc3NhZ2UgPSAoaW5wdXQsIG1lc3NhZ2UpID0+IHtcclxuXHRjb25zdCBlcnJvciA9IGlucHV0LmNsb3Nlc3QoJy5kZXRhaWxzLWZvcm1fX2lucHV0LWNvbnRhaW5lcicpLnF1ZXJ5U2VsZWN0b3IoJy5kZXRhaWxzLWZvcm1fX2Vycm9yJyk7XHJcblx0ZXJyb3IuaW5uZXJUZXh0ID0gbWVzc2FnZTtcclxuXHRpbnB1dC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJFcnJvciA9IChpbnB1dCkgPT4ge1xyXG5cdHNob3dFcnJvck1lc3NhZ2UoaW5wdXQsICcnKTtcclxuXHRpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xyXG59O1xyXG5cclxuLyogYnV0dG9ucyBoYW5kbGluZyAqL1xyXG5jb25zdCBoYW5kbGVTdWJtaXRCdG4gPSAoZSkgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRjb25zdCB7IGlzVmFsaWQ6IGlzTmFtZVZhbGlkLCBlcnJvck1zZzogbmFtZUVycm9yIH0gPSB2YWxpZGF0ZUNhcmRob2xkZXJOYW1lKGNhcmROdW1iZXJJbnB1dC52YWx1ZSk7XHJcblx0Y29uc3QgeyBpc1ZhbGlkOiBpc0NhcmROdW1iZXJWYWxpZCwgZXJyb3JNc2c6IGNhcmROdW1iZXJFcnJvciB9ID0gdmFsaWRhdGVDYXJkTnVtYmVyKGNhcmROdW1iZXJJbnB1dC52YWx1ZSk7XHJcblx0Y29uc3QgeyBpc1ZhbGlkOiBpc0V4cGlyYXRpb25Nb250aFZhbGlkLCBlcnJvck1zZzogZXhwTW9udGhFcnJvciB9ID0gdmFsaWRhdGVFeHBpcmF0aW9uKFxyXG5cdFx0ZXhwaXJhdGlvbk1vbnRoSW5wdXQudmFsdWUsXHJcblx0XHR2YWxpZGF0ZUV4cGlyYXRpb25Nb250aFxyXG5cdCk7XHJcblx0Y29uc3QgeyBpc1ZhbGlkOiBpc0V4cGlyYXRpb25ZZWFyVmFsaWQsIGVycm9yTXNnOiBleHBZZWFyRXJyb3IgfSA9IHZhbGlkYXRlRXhwaXJhdGlvbihcclxuXHRcdGV4cGlyYXRpb25ZZWFySW5wdXQudmFsdWUsXHJcblx0XHR2YWxpZGF0ZUV4cGlyYXRpb25ZZWFyXHJcblx0KTtcclxuXHRjb25zdCB7IGlzVmFsaWQ6IGlzQ1ZDVmFsaWQsIGVycm9yTXNnOiBjdmNFcnJvciB9ID0gdmFsaWRhdGVDVkMoY3ZjTnVtYmVySW5wdXQudmFsdWUpO1xyXG5cclxuXHRjb25zdCBpc1ZhbGlkID0gaXNOYW1lVmFsaWQgJiYgaXNDYXJkTnVtYmVyVmFsaWQgJiYgaXNFeHBpcmF0aW9uTW9udGhWYWxpZCAmJiBpc0V4cGlyYXRpb25ZZWFyVmFsaWQgJiYgaXNDVkNWYWxpZDtcclxuXHRpZiAoaXNWYWxpZCkgZGV0YWlsc0NhcmQuc2V0QXR0cmlidXRlKCdkYXRhLWNvbXBsZXRlZCcsICcnKTtcclxuXHQvKiBhZGQgZXJyb3JzIHRvIGludmFsaWQgaW5wdXQgZmllbGRzICovXHJcblx0aWYgKCFpc05hbWVWYWxpZCkgc2hvd0Vycm9yTWVzc2FnZShjYXJkaG9sZGVySW5wdXQsIG5hbWVFcnJvcik7XHJcblx0aWYgKCFpc0NhcmROdW1iZXJWYWxpZCkgc2hvd0Vycm9yTWVzc2FnZShjYXJkTnVtYmVySW5wdXQsIGNhcmROdW1iZXJFcnJvcik7XHJcblx0aWYgKCFpc0V4cGlyYXRpb25Nb250aFZhbGlkKSBzaG93RXJyb3JNZXNzYWdlKGV4cGlyYXRpb25Nb250aElucHV0LCBleHBNb250aEVycm9yKTtcclxuXHRpZiAoIWlzRXhwaXJhdGlvblllYXJWYWxpZCkgc2hvd0Vycm9yTWVzc2FnZShleHBpcmF0aW9uWWVhcklucHV0LCBleHBZZWFyRXJyb3IpO1xyXG5cdGlmICghaXNDVkNWYWxpZCkgc2hvd0Vycm9yTWVzc2FnZShjdmNOdW1iZXJJbnB1dCwgY3ZjRXJyb3IpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ29udGludWVCdG4gPSAoZSkgPT4ge1xyXG5cdGRldGFpbHNDYXJkLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1jb21wbGV0ZWQnKTtcclxuXHRjbGVhcklucHV0cygpO1xyXG5cdGNsZWFyT3V0cHV0cygpO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJJbnB1dHMgPSAoKSA9PiB7XHJcblx0Y2FyZGhvbGRlcklucHV0LnZhbHVlID0gJyc7XHJcblx0Y2FyZE51bWJlcklucHV0LnZhbHVlID0gJyc7XHJcblx0ZXhwaXJhdGlvbk1vbnRoSW5wdXQudmFsdWUgPSAnJztcclxuXHRleHBpcmF0aW9uWWVhcklucHV0LnZhbHVlID0gJyc7XHJcblx0Y3ZjTnVtYmVySW5wdXQudmFsdWUgPSAnJztcclxufTtcclxuXHJcbmNvbnN0IGNsZWFyT3V0cHV0cyA9ICgpID0+IHtcclxuXHRjYXJkaG9sZGVyT3V0cHV0LmlubmVyVGV4dCA9IERFRkFVTFRfQ0FSREhPTERFUjtcclxuXHRjYXJkTnVtYmVyT3V0cHV0LmlubmVyVGV4dCA9IERFRkFVTFRfQ0FSRF9OVU1CRVI7XHJcblx0ZXhwaXJhdGlvbk1vbnRoT3V0cHV0LmlubmVyVGV4dCA9IERFRkFVTFRfRVhQSVJBVElPTl9NT05USDtcclxuXHRleHBpcmF0aW9uWWVhck91dHB1dC5pbm5lclRleHQgPSBERUZBVUxUX0VYUElSQVRJT05fWUVBUjtcclxuXHRjdmNOdW1iZXJPdXRwdXQuaW5uZXJUZXh0ID0gREVGQVVMVF9DVkM7XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbik7XHJcbiJdfQ==
